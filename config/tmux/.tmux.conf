# window の作成, 移動
bind -n M-c new-window
bind -n M-j next-window
bind -n M-k previous-window

# session の作成, 移動
bind -n M-C new-session
bind -n M-l switch-client -n
bind -n M-h switch-client -p

# paneの分割
bind -n M-v split-window -h -c "#{pane_current_path}"
bind -n M-s split-window -v -c "#{pane_current_path}"

# paneの移動
bind -n C-h select-pane -L
bind -n C-j select-pane -D
bind -n C-k select-pane -U
bind -n C-l select-pane -R

bind -n M-a choose-tree
bind -n M-e choose-session
bind -n M-w choose-tree -w

# bind -n M-n rename-session -t (tmux display-message -p '#S') hoge
bind -n M-n rename-session "#{b:pane_current_path}"
bind -n M-N command-prompt 'rename-session %%'

# enable the mouse operation
setw -g mouse

# use a 256-color terminal
set-option -ga terminal-overrides ",xterm-256color:Tc"
set -g default-terminal "xterm-256color"

# set statusbar
set -g status-position top
set-option -g status-interval 1
# set-option -g status-bg "colour235"
set-option -g status-bg "#282828"
set-option -g status-fg "#B3B2B3"
set-option -g status-left-length 20
set-option -g status-left '#[fg=colour229,bg=#282828,bold]#S #[default] '
set-option -g status-right-length 60
set-option -g status-right "#[fg=colour229,bg=#282828] %Y-%m-%d(%a) %H:%M:%S #[default]"
set-window-option -g window-status-format " #I:#W "
set-window-option -g window-status-current-format "#[fg=colour233,bg=colour229,bold] #I:#W #[default]"

# set the copy mode
## use the key bindings for vi
setw -g mode-keys vi
## enable clipboard sharing
set-option -g default-command "reattach-to-user-namespace -l fish"
## set the operation of the copy mode to vim-style
bind-key -T copy-mode-vi v send-keys -X begin-selection
bind-key -T copy-mode-vi y send-keys copy-pipe-and-cancel "reattach-to-user-namespace pbcopy"
unbind -T copy-mode-vi Enter
bind-key -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel "reattach-to-user-namespace pbcopy"

# set default shell for Windows Subsystem for Linux
if "test -e /proc/sys/fs/binfmt_misc/WSLInterop" "set-option -g default-shell /usr/bin/fish"
