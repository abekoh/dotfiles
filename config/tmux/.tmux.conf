# reduce delay of key stroke
set -sg escape-time 1

# reload tmux config file
bind r source-file ~/.tmux.conf \; display "Reloaded!"

# send C-b into tmux
bind C-b send-prefix

# split the pane with a pipe in a vertical
bind v split-window -h

# split the pane with a pipe in a transverse
bind z split-window -v

# make new window
bind t new-window

# move between the panes in the key bindings for vim
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R
bind -r C-h select-window -t :-
bind -r C-l select-window -t :+

# resize the pane in the key bindings for vim
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

bind N rename-session "#{b:pane_current_path}"

bind f switch-client -n
bind b switch-client -p

# enable the mouse operation
setw -g mouse

# use a 256-color terminal
set-option -ga terminal-overrides ",xterm-256color:Tc"
set -g default-terminal "xterm-256color"

# set statusbar
set -g status-position top
set-option -g status-interval 1
set-option -g status-bg "#282828"
set-option -g status-fg "#B3B2B3"
set-option -g status-left-length 60
set-option -g status-left '#[fg=colour229,bg=#282828,bold]#S #[default] '
set-option -g status-right-length 0
# set-option -g status-right "#[fg=colour229,bg=#282828] %Y-%m-%d(%a) %H:%M:%S #[default]"
set-window-option -g window-status-format " #I:#W "
set-window-option -g window-status-current-format "#[fg=colour233,bg=colour229,bold] #I:#W #[default]"

# set the copy mode
## use the key bindings for vi
setw -g mode-keys vi
## enable clipboard sharing
set-option -g default-command "reattach-to-user-namespace -l fish"
## set the operation of the copy mode to vim-style
bind-key -T copy-mode-vi v send-keys -X begin-selection
bind-key -T copy-mode-vi y send-keys copy-pipe-and-cancel "reattach-to-user-namespace pbcopy"
unbind -T copy-mode-vi Enter
bind-key -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel "reattach-to-user-namespace pbcopy"

# set default shell for Windows Subsystem for Linux
if "test -e /proc/sys/fs/binfmt_misc/WSLInterop" "set-option -g default-shell /usr/bin/fish"
